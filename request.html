<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ООО "МКК "Стройпроект" - Заполнение заявки</title>
    <meta name="description" content="ООО 'МКК Стройпроект' - государственная микрокредитная компания в Грозном. Предоставляем денежные ссуды под залог недвижимости для физических и юридических лиц.">
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', system-ui, sans-serif;
        }        
    </style>
    
</head>
<body>
    
<header x-data="{ mobileMenuOpen: false }" class="sticky top-0 z-50 bg-gradient-to-r from-sky-300 to-blue-500 shadow-lg">
    <nav class="container mx-auto px-4" aria-label="Основное меню">
        <div class="flex items-center justify-between py-3">
            <!-- Logo -->
            <a href="/" class="flex items-center space-x-3" aria-label="На главную страницу">
                <!-- Desktop Logo -->
                <!-- <img class="hidden md:block h-6" 
                     src="/assets/images/snapcredit-logo.svg" 
                     alt="МКК Стройпроект"> -->
                <!-- Mobile Logo -->
                <!-- <img class="block md:hidden h-8" 
                     src="/assets/images/snapcredit-logo-m.svg" 
                     alt="МКК Стройпроект"> -->
                <span class="text-white text-xl font-bold">ООО "МКК "Стройпроект"</span>
            </a>

            <!-- Desktop Navigation -->
            <div class="hidden lg:flex items-center space-x-8">
                <!-- Navigation Links -->
                <div class="flex space-x-6">
                    <a href="/request.html" 
                       class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 relative group">
                        Подать заявку
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-200 transition-all duration-200 group-hover:w-full"></span>
                    </a>
                    <a href="/documents.html" 
                       class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 relative group">
                        Документы
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-200 transition-all duration-200 group-hover:w-full"></span>
                    </a>
                    <a href="/contact.html" 
                       class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 relative group">
                        Контакты
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-blue-200 transition-all duration-200 group-hover:w-full"></span>
                    </a>
                </div>

                <!-- Action Buttons -->
                <div class="flex items-center space-x-4 ml-6">
                    <a href="" 
                       target="_blank"
                       class="border border-white text-white hover:bg-white/10 px-4 py-2 rounded-lg font-medium transition-all duration-200">
                        Обращение
                    </a>
                    <a href="/payment.html" 
                       class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200">
                        Внести платеж
                    </a>
                    <a href="/login.html" 
                       class="bg-white text-blue-700 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2">
                        <img width="20" height="20" 
                             src="assets/images/cabinet.svg" 
                             alt="Иконка личного кабинета">
                        <span>Личный кабинет</span>
                    </a>
                </div>
            </div>

            <!-- Mobile Menu Button -->
            <button @click="mobileMenuOpen = !mobileMenuOpen" 
                    class="lg:hidden p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors duration-200"
                    aria-label="Переключить меню">
                <svg x-show="!mobileMenuOpen" class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
                <svg x-show="mobileMenuOpen" class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" 
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 -translate-y-4"
             x-transition:enter-end="opacity-100 translate-y-0"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 translate-y-0"
             x-transition:leave-end="opacity-0 -translate-y-4"
             class="lg:hidden border-t border-white/20 mt-2 py-4">
            
            <!-- Mobile Navigation Links -->
            <div class="flex flex-col space-y-4 mb-6">
                <a href="/request.html" 
                   class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 px-2 rounded-lg hover:bg-white/5">
                    Подать заявку
                </a>
                <a href="/documents.html" 
                   class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 px-2 rounded-lg hover:bg-white/5">
                    Документы
                </a>
                <a href="/contact.html" 
                   class="text-white hover:text-blue-200 transition-colors duration-200 font-medium py-2 px-2 rounded-lg hover:bg-white/5">
                    Контакты
                </a>
            </div>

            <!-- Mobile Action Buttons -->
            <div class="flex flex-col space-y-3 pt-4 border-t border-white/20">
                <a href="" 
                   target="_blank"
                   class="text-center border border-white text-white hover:bg-white/10 py-3 rounded-lg font-medium transition-all duration-200">
                    Обращение
                </a>
                <a href="/payment.html" 
                   class="text-center bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-all duration-200">
                    Внести платеж
                </a>
                <a href="/login.html" 
                   class="text-center bg-white text-blue-700 hover:bg-gray-100 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2">
                    <img width="20" height="20" 
                         src="/assets/images/cabinet.svg" 
                         alt="Иконка личного кабинета">
                    <span>Личный кабинет</span>
                </a>
            </div>
        </div>
    </nav>
</header>

<div class="min-h-screen bg-gray-50 py-8">
    <div class="container mx-auto px-4">
        <!-- Progress Header -->
        <div x-data="requestForm()" class="bg-white rounded-xl shadow-lg sticky top-20 z-30 mb-8">
            <!-- Progress Bar -->
            <div class="p-6 border-b border-gray-100">
                <div class="flex justify-between items-center mb-3">
                    <span class="text-gray-600 font-medium" x-text="`Шаг ${currentStep} из ${totalSteps}`"></span>
                    <span class="text-sky-600 font-bold" x-text="`+${stepPercent}% за шаг`"></span>
                </div>
                <div class="relative h-3 bg-gray-200 rounded-full overflow-hidden">
                    <div class="absolute h-full bg-gradient-to-r from-sky-500 to-blue-500 rounded-full transition-all duration-500"
                         :style="`width: ${progress}%`"></div>
                    <div class="absolute h-full bg-sky-300 rounded-full transition-all duration-500"
                         :style="`width: ${progress + stepPercent}%; margin-left: ${progress}%`"></div>
                </div>
            </div>

            <!-- Loan Summary -->
            <div class="p-6">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-gray-600">Сумма займа:</p>
                        <p class="text-xl font-bold text-gray-900" x-text="`${formatCurrency(loanAmount)} ₽`"></p>
                        <p class="text-gray-600 mt-1">Дата возврата:</p>
                        <p class="text-lg font-semibold text-gray-900" x-text="returnDate"></p>
                    </div>
                    <button @click="showCalculator = !showCalculator" 
                            class="p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors">
                        <svg class="w-6 h-6 text-gray-600 transform transition-transform" 
                             :class="showCalculator ? 'rotate-180' : ''"
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                </div>

                <!-- Calculator -->
                <div x-show="showCalculator" x-collapse class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Amount Slider -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Сумма займа</label>
                            <input type="range" x-model="loanAmount" min="1000" max="20000" step="1000"
                                   class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider-thumb">
                            <div class="flex justify-between text-sm text-gray-600 mt-1">
                                <span>1 000 ₽</span>
                                <span x-text="formatCurrency(loanAmount) + ' ₽'"></span>
                                <span>20 000 ₽</span>
                            </div>
                        </div>

                        <!-- Days Slider -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Срок (дней)</label>
                            <input type="range" x-model="loanDays" min="1" max="15" step="1"
                                   class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer slider-thumb">
                            <div class="flex justify-between text-sm text-gray-600 mt-1">
                                <span>1 день</span>
                                <span x-text="loanDays + ' дней'"></span>
                                <span>15 дней</span>
                            </div>
                        </div>

                        <!-- Tariff Select -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Тариф</label>
                            <select x-model="selectedTariff" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent">
                                <option value="0">ЛП 7 дней 0%</option>
                                <option value="1">PDL 0.8%</option>
                            </select>
                        </div>
                    </div>
                    <button @click="updateLoanTerms()" class="w-full mt-4 bg-sky-600 text-white py-2 rounded-lg hover:bg-sky-700 transition-colors">
                        Сохранить изменения
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Form -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Form Steps -->
            <div x-data="{ activeStep: 1 }" class="divide-y divide-gray-100">
                <!-- Step 1: Personal Data -->
                <div x-show="activeStep === 1" class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Личные данные</h3>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">+5%</span>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Last Name -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Фамилия *</label>
                            <input type="text" required 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="Иванов">
                        </div>

                        <!-- First Name -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Имя *</label>
                            <input type="text" required 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="Иван">
                        </div>

                        <!-- Middle Name -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Отчество</label>
                            <input type="text" 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="Иванович">
                            <div class="flex items-center mt-2">
                                <input type="checkbox" id="noMiddleName" class="rounded border-gray-300 text-sky-600 focus:ring-sky-500">
                                <label for="noMiddleName" class="ml-2 text-sm text-gray-600">Нет отчества</label>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <!-- Birth Date -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Дата рождения *</label>
                            <input type="date" required 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent">
                        </div>

                        <!-- Birth Place -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Место рождения *</label>
                            <textarea rows="2" required 
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                      placeholder="Город, область"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Contact Data -->
                <div x-show="activeStep === 2" class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Контактные данные</h3>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">+10%</span>
                    </div>

                    <div class="max-w-md">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Мобильный телефон *</label>
                        <input type="tel" required 
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                               placeholder="+7 (900) 000-00-00">
                        
                        <!-- CAPTCHA -->
                        <div id="smartcaptcha-container" class="mt-4"></div>
                    </div>
                </div>

                <!-- Step 3: Email -->
                <div x-show="activeStep === 3" class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Электронная почта</h3>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">+5%</span>
                    </div>

                    <div class="max-w-md">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                        <input type="email" required 
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                               placeholder="email@example.com">
                    </div>
                </div>

                <!-- Step 4: Passport Data -->
                <div x-show="activeStep === 4" class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Паспортные данные</h3>
                        <span class="bg-sky-100 text-sky-800 px-3 py-1 rounded-full text-sm font-medium">+15%</span>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Series -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Серия паспорта *</label>
                            <input type="text" required maxlength="4" pattern="\d{4}"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="1234">
                        </div>

                        <!-- Number -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Номер паспорта *</label>
                            <input type="text" required maxlength="6" pattern="\d{6}"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="567890">
                        </div>

                        <!-- Issue Date -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Дата выдачи *</label>
                            <input type="date" required 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent">
                        </div>

                        <!-- Department Code -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Код подразделения *</label>
                            <input type="text" required pattern="\d{3}-\d{3}"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                   placeholder="123-456">
                        </div>

                        <!-- Issued By -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Кем выдан *</label>
                            <textarea rows="3" required 
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                                      placeholder="Отделом УФМС России"></textarea>
                        </div>
                    </div>

                    <!-- Agreements -->
                    <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                        <div class="space-y-3">
                            <div class="flex items-start space-x-3">
                                <input type="checkbox" required class="mt-1 rounded border-gray-300 text-sky-600 focus:ring-sky-500">
                                <label class="text-sm text-gray-700">
                                    Я ознакомлен с <a href="#" class="text-sky-600 hover:text-sky-700 underline">Общими условиями договора микрозайма</a> и <a href="#" class="text-sky-600 hover:text-sky-700 underline">Правилами предоставления микрозаймов</a>
                                </label>
                            </div>
                            <div class="flex items-start space-x-3">
                                <input type="checkbox" required class="mt-1 rounded border-gray-300 text-sky-600 focus:ring-sky-500">
                                <label class="text-sm text-gray-700">
                                    Я ознакомлен с <a href="#" class="text-sky-600 hover:text-sky-700 underline">Политикой обработки персональных данных</a>
                                </label>
                            </div>
                            <div class="flex items-start space-x-3">
                                <input type="checkbox" required class="mt-1 rounded border-gray-300 text-sky-600 focus:ring-sky-500">
                                <label class="text-sm text-gray-700">
                                    Я даю согласие на <a href="#" class="text-sky-600 hover:text-sky-700 underline">обработку персональных данных</a>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="p-6 bg-gray-50">
                    <div class="flex flex-col sm:flex-row gap-4 justify-between">
                        <button x-show="activeStep > 1" @click="activeStep--" 
                                class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                            ← Назад
                        </button>
                        <button x-show="activeStep < 4" @click="activeStep++" 
                                class="px-6 py-3 bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-lg hover:from-sky-700 hover:to-blue-700 transition-colors flex-1 sm:flex-none">
                            Продолжить →
                        </button>
                        <button x-show="activeStep === 4" 
                                class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-1">
                            Отправить заявку
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Loading Modal -->
<div x-data="{ isLoading: false }" x-show="isLoading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl p-8 max-w-md mx-4 text-center">
        <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-sky-600 mx-auto mb-4"></div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Пожалуйста, ожидайте...</h3>
        <p class="text-gray-600">Идет обработка вашей заявки</p>
    </div>
</div>

<script>
document.addEventListener('alpine:init', () => {
    Alpine.data('requestForm', () => ({
        currentStep: 1,
        totalSteps: 4,
        stepPercent: 15,
        progress: 5,
        loanAmount: 10000,
        loanDays: 10,
        selectedTariff: 0,
        showCalculator: false,
        returnDate: '',

        init() {
            this.updateReturnDate();
        },

        updateLoanTerms() {
            this.showCalculator = false;
            this.updateReturnDate();
            // Additional logic to update loan terms
        },

        updateReturnDate() {
            const today = new Date();
            today.setDate(today.getDate() + parseInt(this.loanDays));
            this.returnDate = today.toLocaleDateString('ru-RU');
        },

        formatCurrency(amount) {
            return new Intl.NumberFormat('ru-RU').format(amount);
        }
    }));
});
</script>

<footer id="footer-wrapper" class="bg-gray-900 text-white py-12"></footer>

<script src="assets/js/main.js"></script>

</body>
</html>